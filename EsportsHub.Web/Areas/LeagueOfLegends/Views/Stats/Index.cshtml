
@{
    ViewData["Title"] = "Index";
    Layout = "_Layout";
}

<h1>Index</h1>

<div ng-controller="myCtrl"></div>
<table id="homeTable">
    <thead>
        <tr>
            <th>Image</th>
            <th>Name</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
    // series id: 4198
    // tournament id: 2378
    app.controller('myCtrl', function ($scope, $http) {
        //$http({
        //    method: 'GET',
        //    url: ''
        //}).then(function (resp) {
        //    console.log(resp);
        //});
    });
    $(document).ready(function () {
        $.ajax({
            url: "https://localhost:44395/api/lol/Tournaments/GetPlayers?id=2378",
            type: "GET",
            dataSrc: function (json) {
                //var jsonData = JSON.parse(json.data);
                return json.data;
            },
            success: function (json) {
                console.log(json);
                var jsonData = JSON.parse(json.data);
                $('#homeTable').DataTable({
                    //processing: true,
                    //serverSide: true,
                    //ajax: {
                    //    url: "https://localhost:44395/api/lol/Tournaments/GetPlayers?id=2378",
                    //    type: "GET",
                    //    dataSrc: function (json) {
                    //        //var jsonData = JSON.parse(json.data);
                    //        return json.data;
                    //    },
                    //    success: function (json) {
                    //        console.log(json);
                    //    },
                    //},
                    data: jsonData,
                    columns: [
                        //{ data: "image_url", render: function (d) { return "<img src=\"" + d.image_url + "\" />" } },
                        //{ data: "name", render: "<a asp-area=\"LeagueOfLegends\" asp-controller=\"Stats\" asp-action=\"Player\"" }
                        { data: "image_url" },
                        { data: "name" }
                    ]
                });
            },
        });
        
        
    });
</script>